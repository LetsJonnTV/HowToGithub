<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GitHub Projekt Tool ‚Äî Fix</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f6f7fb;
    --panel:#ffffff;
    --text:#0f1724;
    --muted:#5b6b76;
    --primary:#2563eb;
    --accent:#06b6d4;
    --success:#10b981;
    --radius:12px;
    --shadow: 0 6px 20px rgba(16,24,40,0.07);
    --glass: rgba(255,255,255,0.6);
    --code-bg: #f3f4f6;
    --link: #2563eb;
  }
  [data-theme="dark"]{
    --bg:#071023;
    --panel:#0b1220;
    --text:#e6eef8;
    --muted:#94a3b8;
    --primary:#58a6ff;
    --accent:#2dd4bf;
    --success:#34d399;
    --shadow: 0 8px 30px rgba(0,0,0,0.6);
    --glass: rgba(255,255,255,0.03);
    --code-bg: #071427;
    --link: #58a6ff;
  }

  *{box-sizing:border-box}
  html,body{height:100%; margin:0}
  body{
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg,var(--bg), rgba(0,0,0,0.02));
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:18px;
    display:flex; justify-content:center;
  }

  .container{
    width:100%; max-width:1100px; display:grid; gap:16px;
  }

  header{
    display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;
  }
  .brand{display:flex; gap:12px; align-items:center}
  .logo{width:48px;height:48px;border-radius:10px;display:grid;place-items:center;color:white;
        background:linear-gradient(135deg,var(--primary), #7c3aed); font-weight:700; box-shadow:var(--shadow)}
  h1{font-size:1.15rem;margin:0}
  p.lead{margin:0;color:var(--muted);font-size:0.95rem}

  .controls{display:flex; gap:8px; align-items:center}
  .btn{border:0;padding:8px 12px;border-radius:10px;background:var(--panel);cursor:pointer;box-shadow:var(--shadow); color:var(--text); font-weight:600}
  .btn.primary{background:linear-gradient(90deg,var(--primary), #7c3aed); color:white}
  .btn.icon{width:44px;height:44px;padding:0; display:grid; place-items:center}
  .btn.ghost{background:transparent; box-shadow:none; border:1px solid rgba(0,0,0,0.06)}

  main.grid{
    display:grid; grid-template-columns: 1fr 360px; gap:16px;
  }
  @media (max-width:980px){ main.grid{grid-template-columns:1fr} }

  .panel{
    background:var(--panel); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow);
  }

  /* tabs */
  .tabs{display:flex; gap:8px; margin-bottom:12px}
  .tab{flex:1; text-align:center; padding:10px; border-radius:10px; cursor:pointer; font-weight:700; background:transparent; color:var(--muted)}
  .tab.active{background:linear-gradient(90deg,var(--primary), #7c3aed); color:white}

  /* content blocks hidden/show */
  .hidden{display:none !important}

  /* accordion */
  .accordion details{border-radius:10px; margin-bottom:10px; overflow:hidden; border:1px solid rgba(0,0,0,0.04); background:linear-gradient(180deg,var(--glass), transparent)}
  .accordion summary{cursor:pointer; list-style:none; display:flex; gap:12px; align-items:center; padding:12px 14px}
  .accordion summary::-webkit-details-marker{display:none}
  .acc-title h3{margin:0;font-size:1rem}
  .acc-meta{font-size:0.9rem;color:var(--muted)}

  .acc-body{padding:12px 14px 18px; border-top:1px solid rgba(0,0,0,0.03)}
  ul.items{list-style:none;padding:0;margin:0; display:flex; flex-direction:column; gap:8px}
  li.item{display:flex; align-items:center; gap:12px; padding:8px; border-radius:8px}
  li.item label{flex:1; cursor:pointer}
  input[type="checkbox"]{transform:scale(1.15); accent-color:var(--primary); cursor:pointer}

  /* code block */
  pre.code{background:var(--code-bg); color:var(--text); padding:10px; border-radius:8px; overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size:0.9rem; border:1px solid rgba(0,0,0,0.04)}

  /* sidebar */
  aside.side{display:flex; flex-direction:column; gap:12px}
  .card{padding:12px; border-radius:10px; background:var(--panel); box-shadow:var(--shadow)}
  .small{font-size:0.92rem;color:var(--muted)}

  /* quiz */
  .quiz .q{margin-bottom:12px}
  .quiz p{margin:0 0 8px;font-weight:700}
  .quiz label{display:block;padding:8px;border-radius:8px;background:var(--glass); margin-bottom:6px; cursor:pointer; color:var(--text)}
  .quiz input[type="radio"]{margin-right:8px}

  /* tables */
  table{width:100%; border-collapse:collapse; margin-top:10px}
  th,td{padding:8px; border:1px solid rgba(0,0,0,0.06); text-align:left; font-size:0.95rem}
  thead th{background:linear-gradient(90deg, rgba(0,0,0,0.02), transparent); color:var(--muted)}

  footer{text-align:center;color:var(--muted); font-size:0.85rem; padding:8px 0}

  /* subtle */
  .muted{color:var(--muted)}
  a { color: var(--link); text-decoration:none }
  a:hover{text-decoration:underline}

  @media (max-width:520px){
    body{padding:12px}
    .logo{width:44px;height:44px}
    .controls{flex-wrap:wrap}
  }
</style>
</head>
<body>
<div class="container" id="app" data-theme="light">
  <header>
    <div class="brand">
      <div class="logo">GH</div>
      <div>
        <h1>GitHub Projekt Tool ‚Äî Fix</h1>
        <p class="lead">Checkliste ‚Ä¢ Quiz ‚Ä¢ Ressourcen ‚Äî interaktiv & mobiloptimiert</p>
      </div>
    </div>

    <div class="controls" role="toolbar" aria-label="controls">
      <button class="btn primary" id="exportBtn" title="Export">Export</button>
      <button class="btn" id="importBtn" title="Import">Import</button>
      <button class="btn" id="resetAll" title="Reset">Reset</button>
      <button class="btn icon" id="themeBtn" title="Theme">üåô</button>
    </div>
  </header>

  <main class="grid">
    <!-- LEFT -->
    <section class="panel">
      <div class="tabs" role="tablist">
        <div class="tab active" data-tab="checklist" role="tab">‚úÖ Checkliste</div>
        <div class="tab" data-tab="quiz" role="tab">‚ùì Quiz</div>
        <div class="tab" data-tab="resources" role="tab">üìò Ressourcen</div>
      </div>

      <!-- CHECKLISTE -->
      <div id="block-checklist" class="block">
        <div class="accordion" id="accordion">
          <!-- keep all 11 sections ‚Äî same content as before but concise for readability -->
          <!-- 1 -->
          <details class="section" id="sec-1">
            <summary><div class="acc-title"><h3>1. Projekt auf GitHub erstellen</h3><div class="acc-meta">Repository anlegen, Sichtbarkeit & README</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-1-1"><label for="c-1-1">Auf <a href="https://github.com" target="_blank">github.com</a> einloggen</label></li>
                <li class="item"><input type="checkbox" id="c-1-2"><label for="c-1-2">‚Äû+ ‚Üí New repository‚Äú klicken</label></li>
                <li class="item"><input type="checkbox" id="c-1-3"><label for="c-1-3">Repository-Name & Sichtbarkeit w√§hlen</label></li>
                <li class="item"><input type="checkbox" id="c-1-4"><label for="c-1-4">README, .gitignore, LICENSE hinzuf√ºgen</label></li>
              </ul>
            </div>
          </details>

          <!-- 2 -->
          <details class="section" id="sec-2">
            <summary><div class="acc-title"><h3>2. Lokal in VS Code einrichten</h3><div class="acc-meta">Git, VS Code & Klonen</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-2-1"><label for="c-2-1">Git installieren (<a href="https://git-scm.com" target="_blank">git-scm.com</a>)</label></li>
                <li class="item"><input type="checkbox" id="c-2-2"><label for="c-2-2">VS Code installieren</label></li>
                <li class="item"><input type="checkbox" id="c-2-3"><label for="c-2-3">Repository klonen & √∂ffnen</label></li>
              </ul>
              <pre class="code">git clone https://github.com/benutzername/mein-projekt.git
cd mein-projekt
code .</pre>
            </div>
          </details>

          <!-- 3 -->
          <details class="section" id="sec-3">
            <summary><div class="acc-title"><h3>3. Struktur & Dateien</h3><div class="acc-meta">Ordner, README, .gitignore</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-3-1"><label for="c-3-1">Projektstruktur (src/, docs/, tests/)</label></li>
                <li class="item"><input type="checkbox" id="c-3-2"><label for="c-3-2">README.md anpassen</label></li>
                <li class="item"><input type="checkbox" id="c-3-3"><label for="c-3-3">.gitignore erg√§nzen</label></li>
                <li class="item"><input type="checkbox" id="c-3-4"><label for="c-3-4">Initialer Commit</label></li>
              </ul>
              <pre class="code">git add .
git commit -m "Initial commit"
git push origin main</pre>
            </div>
          </details>

          <!-- 4 -->
          <details class="section" id="sec-4">
            <summary><div class="acc-title"><h3>4. Issues nutzen</h3><div class="acc-meta">Issues, Labels, Milestones</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-4-1"><label for="c-4-1">Issue-Tab ‚Üí New Issue</label></li>
                <li class="item"><input type="checkbox" id="c-4-2"><label for="c-4-2">Titel + Beschreibung</label></li>
                <li class="item"><input type="checkbox" id="c-4-3"><label for="c-4-3">Labels & Assignees setzen</label></li>
                <li class="item"><input type="checkbox" id="c-4-4"><label for="c-4-4">Commits mit <code>Fixes #1</code> verkn√ºpfen</label></li>
              </ul>
            </div>
          </details>

          <!-- 5 -->
          <details class="section" id="sec-5">
            <summary><div class="acc-title"><h3>5. GitHub Projects</h3><div class="acc-meta">Boards & Karten</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-5-1"><label for="c-5-1">Board erstellen</label></li>
                <li class="item"><input type="checkbox" id="c-5-2"><label for="c-5-2">Spalten: To Do / In Progress / Done</label></li>
                <li class="item"><input type="checkbox" id="c-5-3"><label for="c-5-3">Issues & PRs verkn√ºpfen</label></li>
              </ul>
            </div>
          </details>

          <!-- 6 -->
          <details class="section" id="sec-6">
            <summary><div class="acc-title"><h3>6. Branches & PRs</h3><div class="acc-meta">Branching & Reviews</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-6-1"><label for="c-6-1">Feature-Branch erstellen</label></li>
                <li class="item"><input type="checkbox" id="c-6-2"><label for="c-6-2">PR erstellen & Review einholen</label></li>
                <li class="item"><input type="checkbox" id="c-6-3"><label for="c-6-3">Merge nach Review</label></li>
              </ul>
              <pre class="code">git checkout -b feature/mein-feature
git push origin feature/mein-feature</pre>
            </div>
          </details>

          <!-- 7 -->
          <details class="section" id="sec-7">
            <summary><div class="acc-title"><h3>7. Tests & Codequalit√§t</h3><div class="acc-meta">Linter, Tests, CI</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-7-1"><label for="c-7-1">ESLint & Prettier konfigurieren</label></li>
                <li class="item"><input type="checkbox" id="c-7-2"><label for="c-7-2">Unit Tests schreiben</label></li>
                <li class="item"><input type="checkbox" id="c-7-3"><label for="c-7-3">Tests im CI laufen lassen</label></li>
              </ul>
              <div class="small muted">Beispiel: <code>npm test</code> / <code>pytest</code></div>
            </div>
          </details>

          <!-- 8 -->
          <details class="section" id="sec-8">
            <summary><div class="acc-title"><h3>8. Pflege & Zusammenarbeit</h3><div class="acc-meta">Docs, Releases & Versioning</div></div></summary>
            <div class="acc-body">
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-8-1"><label for="c-8-1">README & Doku aktuell halten</label></li>
                <li class="item"><input type="checkbox" id="c-8-2"><label for="c-8-2">Releases erstellen</label></li>
                <li class="item"><input type="checkbox" id="c-8-3"><label for="c-8-3">Versionierung mit Tags</label></li>
              </ul>
              <pre class="code">git tag v1.0.0
git push origin v1.0.0</pre>
            </div>
          </details>

          <!-- 9 -->
          <details class="section" id="sec-9">
            <summary><div class="acc-title"><h3>9. Empfohlene Dateien</h3><div class="acc-meta">README, LICENSE, CONTRIBUTING...</div></div></summary>
            <div class="acc-body">
              <table><thead><tr><th>Datei</th><th>Zweck</th></tr></thead><tbody>
                <tr><td>README.md</td><td>Projektbeschreibung & Anleitung</td></tr>
                <tr><td>.gitignore</td><td>Untracked Dateien ausschlie√üen</td></tr>
                <tr><td>LICENSE</td><td>Rechtliche Lizenz</td></tr>
                <tr><td>CONTRIBUTING.md</td><td>Mitwirkende anleiten</td></tr>
                <tr><td>CHANGELOG.md</td><td>√Ñnderungsverlauf</td></tr>
              </tbody></table>
            </div>
          </details>

          <!-- 10 -->
          <details class="section" id="sec-10">
            <summary><div class="acc-title"><h3>10. GitHub Actions (CI/CD)</h3><div class="acc-meta">Workflows & Tests</div></div></summary>
            <div class="acc-body">
              <pre class="code">name: CI
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with: { node-version: '18' }
      - run: npm ci
      - run: npm test</pre>
              <ul class="items">
                <li class="item"><input type="checkbox" id="c-10-1"><label for="c-10-1">CI Workflow hinzuf√ºgen</label></li>
                <li class="item"><input type="checkbox" id="c-10-2"><label for="c-10-2">Tests in Actions laufen lassen</label></li>
              </ul>
            </div>
          </details>

          <!-- 11 -->
          <details class="section" id="sec-11">
            <summary><div class="acc-title"><h3>11. N√ºtzliche Git-Befehle</h3><div class="acc-meta">Quick-reference</div></div></summary>
            <div class="acc-body">
              <table><thead><tr><th>Befehl</th><th>Bedeutung</th></tr></thead><tbody>
                <tr><td>git status</td><td>Status anzeigen</td></tr>
                <tr><td>git add .</td><td>√Ñnderungen vormerken</td></tr>
                <tr><td>git commit -m "msg"</td><td>Commit erstellen</td></tr>
                <tr><td>git pull</td><td>√Ñnderungen holen</td></tr>
                <tr><td>git push</td><td>Hochladen</td></tr>
                <tr><td>git checkout branch</td><td>Branch wechseln</td></tr>
              </tbody></table>
            </div>
          </details>

        </div>
        <div style="display:flex; gap:8px; margin-top:12px;">
          <button class="btn" id="openAll">Alle √∂ffnen</button>
          <button class="btn" id="closeAll">Alle schlie√üen</button>
        </div>
      </div>

      <!-- QUIZ -->
      <div id="block-quiz" class="block hidden">
        <div class="quiz panel" id="quizPanel">
          <!-- JS injects questions here -->
        </div>
        <div style="display:flex; gap:8px; margin-top:10px">
          <button class="btn primary" id="submitQuiz">Ergebnis anzeigen</button>
          <button class="btn" id="resetQuiz">Quiz zur√ºcksetzen</button>
        </div>
        <div id="quizResult" class="muted" style="margin-top:10px;font-weight:700"></div>
      </div>

      <!-- RESOURCES -->
      <div id="block-resources" class="block hidden">
        <h2 style="margin:0 0 8px">üìò Ressourcen</h2>
        <p class="small muted" style="margin:0 0 12px">Offizielle Guides und hilfreiche Links</p>
        <ul style="margin:0 0 12px">
          <li class="small"><a href="https://docs.github.com/" target="_blank">GitHub Docs</a></li>
          <li class="small"><a href="https://git-scm.com/book/de/v2" target="_blank">Pro Git (Buch)</a></li>
          <li class="small"><a href="https://docs.github.com/en/actions" target="_blank">GitHub Actions</a></li>
          <li class="small"><a href="https://code.visualstudio.com/docs/editor/versioncontrol" target="_blank">VS Code - Git Integration</a></li>
        </ul>
        <h3 style="margin-top:8px">Cheat Sheet</h3>
        <pre class="code"># Init
git init

# Branch
git checkout -b feature/x

# Work
git add .
git commit -m "msg"
git push origin feature/x</pre>
      </div>

    </section>

    <!-- RIGHT SIDEBAR -->
    <aside class="side">
      <div class="card">
        <div style="display:flex; justify-content:space-between; align-items:center">
          <div>
            <strong>Fortschritt</strong>
            <div id="progressText" class="small muted">‚Äî</div>
          </div>
          <div style="text-align:right"><small class="muted">Auto Save</small></div>
        </div>
        <div style="height:10px; background:rgba(0,0,0,0.06); border-radius:8px; margin-top:10px; overflow:hidden">
          <div id="progressBar" style="height:10px; width:0%; background:linear-gradient(90deg,var(--primary),var(--accent))"></div>
        </div>
        <div style="display:flex; gap:8px; margin-top:10px">
          <button class="btn" id="gotoQuiz">Zum Quiz</button>
          <button class="btn" id="shuffle">Mischen</button>
        </div>
      </div>

      <div class="card">
        <strong>Export / Import</strong>
        <p class="small muted" style="margin:8px 0">Sichere deinen Fortschritt als JSON oder lade ihn wieder.</p>
        <div style="display:flex; gap:8px">
          <button class="btn" id="downloadBtn">Download</button>
          <button class="btn" id="uploadBtn">Upload</button>
        </div>
      </div>

      <div class="card small muted">
        Tipp: Einstellungen, offene Sektionen und Quiz-Antworten werden lokal gespeichert.
      </div>
    </aside>
  </main>

  <footer>¬© 2025 ¬∑ GitHub Projekt Tool</footer>
</div>

<!-- Hidden file input -->
<input id="fileInput" type="file" accept="application/json" style="display:none" />

<script>
(function(){
  // Short selectors
  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));

  const APP = $('#app');
  const THEME_KEY = 'gh_theme_v2';
  const DETAILS_KEY = 'gh_details_v2';
  const CHECK_KEY = 'gh_check_v2';
  const QUIZ_KEY = 'gh_quiz_v2';

  // ----- Theme -----
  const themeBtn = $('#themeBtn');
  function applyTheme(t){
    APP.setAttribute('data-theme', t === 'dark' ? 'dark' : 'light');
    themeBtn.textContent = t === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    localStorage.setItem(THEME_KEY, t);
  }
  const savedTheme = localStorage.getItem(THEME_KEY) || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  applyTheme(savedTheme);
  themeBtn.addEventListener('click', ()=> applyTheme(APP.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'));

  // ----- Tabs -----
  const tabs = $$('.tab');
  const blocks = {
    checklist: $('#block-checklist'),
    quiz: $('#block-quiz'),
    resources: $('#block-resources')
  };
  function setTab(name){
    tabs.forEach(t => t.classList.toggle('active', t.dataset.tab === name));
    Object.keys(blocks).forEach(k => blocks[k].classList.toggle('hidden', k !== name));
    // scroll top for mobile
    window.scrollTo({top:0, behavior:'smooth'});
  }
  tabs.forEach(t => t.addEventListener('click', ()=> setTab(t.dataset.tab)));
  // default
  setTab('checklist');

  // ----- Accordion open state persistence -----
  function loadDetails(){
    const raw = localStorage.getItem(DETAILS_KEY);
    if(raw){
      try{
        const map = JSON.parse(raw);
        $$('details.section').forEach(d => { d.open = !!map[d.id]; });
      }catch(e){}
    }
    // listen for toggles
    $$('details.section').forEach(d => d.addEventListener('toggle', saveDetails));
  }
  function saveDetails(){
    const m = {};
    $$('details.section').forEach(d => m[d.id] = d.open);
    localStorage.setItem(DETAILS_KEY, JSON.stringify(m));
  }
  loadDetails();

  // ----- Checkboxes persistence -----
  const checkboxes = $$('input[type="checkbox"]');
  function loadChecks(){
    let done = 0;
    checkboxes.forEach(cb => {
      const key = CHECK_KEY + '_' + cb.id;
      const v = localStorage.getItem(key);
      cb.checked = v === 'true';
      if(cb.checked){ cb.closest('li') && cb.closest('li').classList.add('checked'); done++; }
      cb.addEventListener('change', () => {
        localStorage.setItem(key, cb.checked);
        cb.closest('li') && cb.closest('li').classList.toggle('checked', cb.checked);
        updateProgress();
      });
    });
    updateProgress();
  }
  function updateProgress(){
    const total = checkboxes.length;
    const done = checkboxes.filter(c => c.checked).length;
    const pct = Math.round((done/total)*100);
    $('#progressText').textContent = `${done} / ${total} erledigt (${pct}%)`;
    $('#progressBar').style.width = pct + '%';
  }
  loadChecks();

  // open/close all
  $('#openAll').addEventListener('click', ()=> $$('details.section').forEach(d => d.open = true));
  $('#closeAll').addEventListener('click', ()=> $$('details.section').forEach(d => d.open = false));

  // ----- Reset / Export / Import -----
  $('#resetAll').addEventListener('click', ()=>{
    if(!confirm('Alles zur√ºcksetzen? (Checkboxen, Quiz & Einstellungen)')) return;
    // clear checks
    checkboxes.forEach(cb => { cb.checked=false; cb.closest('li') && cb.closest('li').classList.remove('checked'); localStorage.removeItem(CHECK_KEY + '_' + cb.id); });
    // clear details
    localStorage.removeItem(DETAILS_KEY);
    // clear quiz
    localStorage.removeItem(QUIZ_KEY);
    // clear theme
    localStorage.removeItem(THEME_KEY);
    // reload
    location.reload();
  });

  function gatherExport(){
    const checks = {};
    checkboxes.forEach(cb => checks[cb.id] = !!cb.checked);
    const details = JSON.parse(localStorage.getItem(DETAILS_KEY) || '{}');
    const quiz = JSON.parse(localStorage.getItem(QUIZ_KEY) || 'null');
    const theme = localStorage.getItem(THEME_KEY) || 'light';
    return { checks, details, quiz, theme, exportedAt: new Date().toISOString() };
  }

  $('#exportBtn').addEventListener('click', ()=>{
    const obj = gatherExport();
    const blob = new Blob([JSON.stringify(obj, null, 2)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'gh-tool-progress.json'; a.click();
    URL.revokeObjectURL(url);
  });

  $('#downloadBtn').addEventListener('click', ()=> $('#exportBtn').click());

  $('#importBtn').addEventListener('click', ()=> $('#fileInput').click());
  $('#uploadBtn').addEventListener('click', ()=> $('#fileInput').click());

  $('#fileInput').addEventListener('change', (ev)=>{
    const f = ev.target.files[0];
    if(!f) return;
    const r = new FileReader();
    r.onload = e => {
      try{
        const data = JSON.parse(e.target.result);
        if(data.checks){
          Object.keys(data.checks).forEach(id => {
            const cb = document.getElementById(id);
            if(cb){
              cb.checked = !!data.checks[id];
              cb.closest('li') && cb.closest('li').classList.toggle('checked', cb.checked);
              localStorage.setItem(CHECK_KEY + '_' + id, cb.checked);
            }
          });
        }
        if(data.details) { localStorage.setItem(DETAILS_KEY, JSON.stringify(data.details)); loadDetails(); }
        if(data.quiz) localStorage.setItem(QUIZ_KEY, JSON.stringify(data.quiz));
        if(data.theme) applyTheme(data.theme);
        updateProgress();
        renderQuiz(); // refresh quiz UI
        alert('Import erfolgreich');
      }catch(err){ alert('Import fehlgeschlagen: ' + err.message); }
    };
    r.readAsText(f);
    ev.target.value = '';
  });

  // ----- Quiz ----- (only MC)
  const QUESTIONS = [
    {q:"Was macht 'git clone'?", opts:["Neues Repo auf GitHub erstellen","Repository lokal kopieren","Commit r√ºckg√§ngig machen"], a:1, topic:1},
    {q:"Was geh√∂rt optional beim Repo dazu?", opts:["README, .gitignore, LICENSE","Nur binaries","Nichts"], a:0, topic:1},
    {q:"Welcher Befehl √∂ffnet das Verzeichnis in VS Code?", opts:["code .","vscode start","open ."], a:0, topic:2},
    {q:"Wo holst du Git typischerweise her?", opts:["git-scm.com","npmjs.com","github.com"], a:0, topic:2},
    {q:"Typischer Ordner f√ºr Quellcode?", opts:["assets/","src/","docs/"], a:1, topic:3},
    {q:".gitignore dient dazu ...", opts:["Untracked Dateien ausschlie√üen","Commits signieren","Branches zusammenf√ºhren"], a:0, topic:3},
    {q:"Wie verkn√ºpfst du Commit mit Issue automatisch?", opts:["Close #1","Fixes #1","Link #1"], a:1, topic:4},
    {q:"Was geh√∂rt in ein gutes Issue?", opts:["Nur ein Wort","Titel & Beschreibung","Nur Label"], a:1, topic:4},
    {q:"N√ºtzliche Spalten im Board?", opts:["To Do / In Progress / Done","Open / Closed / Merged","New / Old / Archived"], a:0, topic:5},
    {q:"Name eines Feature-Branches?", opts:["feature/mein-feature","main","hotfix"], a:0, topic:6},
    {q:"Was vor dem Mergen?", opts:["PR-Review & Tests","Direkt mergen","Branch l√∂schen"], a:0, topic:6},
    {q:"Tools f√ºr Codequalit√§t?", opts:["ESLint & Prettier","Photoshop & Figma","Node & NPM"], a:0, topic:7},
    {q:"Befehl um Tests zu starten (JS)?", opts:["npm test","git test","run tests"], a:0, topic:7},
    {q:"Wozu CHANGELOG.md?", opts:["√Ñnderungsverlauf","Bugs melden","Branches erstellen"], a:0, topic:8},
    {q:"Wichtige Zusammenarbeit?", opts:["Doku aktuell halten","Alles alleine machen","Keine PRs"], a:0, topic:8},
    {q:"Welche Datei erkl√§rt das Projekt?", opts:["LICENSE","README.md",".gitignore"], a:1, topic:9},
    {q:"Wof√ºr GitHub Actions?", opts:["CI/CD Automatisierung","Issue-Tracking","Branching"], a:0, topic:10},
    {q:"Welcher Befehl pusht √Ñnderungen?", opts:["git push","git pull","git commit"], a:0, topic:11},
    {q:"Welcher Befehl zeigt Status?", opts:["git status","git log","git show"], a:0, topic:11}
  ];

  const quizPanel = $('#quizPanel');

  // quiz state structure: { order: [indexes], answers: { 'i': selectedIndex } }
  let quizState = JSON.parse(localStorage.getItem(QUIZ_KEY) || 'null') || { order: [], answers: {} };

  function ensureQuizOrder(){
    if(!quizState.order || quizState.order.length !== QUESTIONS.length){
      quizState.order = QUESTIONS.map((_,i)=> i);
      shuffle(quizState.order);
      quizState.answers = {};
      localStorage.setItem(QUIZ_KEY, JSON.stringify(quizState));
    }
  }
  function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]] } return arr; }

  ensureQuizOrder();

  function renderQuiz(){
    quizPanel.innerHTML = '';
    quizState.order.forEach((qIdx, idx)=>{
      const q = QUESTIONS[qIdx];
      const wrapper = document.createElement('div'); wrapper.className = 'q';
      const idBase = 'q' + qIdx;
      let html = `<p>${idx+1}. ${q.q}</p>`;
      q.opts.forEach((opt, oi)=>{
        const checked = String(quizState.answers[idBase]) === String(oi) ? 'checked' : '';
        html += `<label><input type="radio" name="${idBase}" value="${oi}" ${checked}> ${opt}</label>`;
      });
      wrapper.innerHTML = html;
      quizPanel.appendChild(wrapper);
      // listeners
      wrapper.querySelectorAll('input[type=radio]').forEach(r => r.addEventListener('change', e=>{
        quizState.answers[idBase] = e.target.value;
        localStorage.setItem(QUIZ_KEY, JSON.stringify(quizState));
      }));
    });
  }

  renderQuiz();

  $('#submitQuiz').addEventListener('click', ()=>{
    let correct = 0;
    QUESTIONS.forEach((q, i)=>{
      const key = 'q' + i;
      const ans = quizState.answers[key];
      if(ans !== undefined && Number(ans) === q.a) correct++;
    });
    const pct = Math.round((correct / QUESTIONS.length) * 100);
    let emoji = 'üòê';
    if(pct === 100) emoji='üî•';
    else if(pct >= 85) emoji='üíØ';
    else if(pct >= 70) emoji='üí™';
    else if(pct >= 50) emoji='üôÇ';
    else emoji='üòÖ';
    $('#quizResult').textContent = `Du hast ${correct}/${QUESTIONS.length} richtig ‚Äî ${pct}% ${emoji}`;
  });

  $('#resetQuiz').addEventListener('click', ()=>{
    if(!confirm('Quiz zur√ºcksetzen?')) return;
    quizState = { order: [], answers: {} };
    localStorage.removeItem(QUIZ_KEY);
    ensureQuizOrder();
    renderQuiz();
    $('#quizResult').textContent = '';
  });

  $('#shuffle').addEventListener('click', ()=>{
    quizState.order = shuffle(QUESTIONS.map((_,i)=>i));
    quizState.answers = {};
    localStorage.setItem(QUIZ_KEY, JSON.stringify(quizState));
    renderQuiz();
    $('#quizResult').textContent = '';
  });

  $('#gotoQuiz').addEventListener('click', ()=> setTab('quiz'));

  // download/export uses existing exportBtn
  $('#downloadBtn').addEventListener('click', ()=> $('#exportBtn').click());

  // import: file input handled above
  // add event to setTab function (rebind)
  function setTab(name){
    tabs.forEach(t => t.classList.toggle('active', t.dataset.tab === name));
    Object.keys(blocks).forEach(k => blocks[k].classList.toggle('hidden', k !== name));
    window.scrollTo({top:0, behavior:'smooth'});
  }
  // rebind tabs click (since setTab was redefined)
  $$('.tab').forEach(t => t.addEventListener('click', ()=> setTab(t.dataset.tab)));

  // ensure progress on load
  updateProgress();

  // handle Open/Close saving
  $$('details.section').forEach(d => d.addEventListener('toggle', saveDetails));

})();
</script>
</body>
</html>